<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex,nofollow">
    <title>メールパスの変更</title>
    <style type="text/css">
      .svg1{margin:50px auto;display:block;}
      .st0{fill:#FDFEFE;}
      .st1{fill:#02A8FE;}
      .st2{fill:#C0D49B;}
      .st3{fill:#F4FAFA;}
      .st4{fill:#8DC63F;}
      .st5{fill:#A01906;}
    </style>
  </head>
  <body>
    <div>
      	<h3 style="text-align:center;">記号をクリックしてください。</h3>
      <svg id="svg1" class="svg1" width="200" height="200" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg">
      		<g id="container">
      		</g>
      </svg>
    </div>
    <script src="snap.svg-min.js"></script>
    <script>
		function clickAction(){
			var paper = Snap(200,200).remove();
			var mail = "M4.2,39l13.5-13.5L4.2,12.1V39z M5.7,10.6l17.1,17.1c1.9,1.9,3.3,1.9,5.2,0l17.2-17.1H5.7z M45.2,40.5L31.6,27.1c-2.7,2.6-4.4,4.5-6.2,4.5s-3.6-1.8-6.2-4.5L5.7,40.5H45.2z M33.2,25.5L46.7,39V12.1L33.2,25.5z";
			var send   = "M43,19.2c0,9.6-7.8,17.4-17.4,17.4S8.2,28.9,8.2,19.2S16,1.8,25.6,1.8C34.5,1.8,43,9.6,43,19.2z";
			var ok   = "M12.4,19.1 17.2,13.5 24.8,26.7 37.5,5.2 45.8,9 24.5,35z";
			var path = paper.path(mail).attr({fill:"skyblue", stroke:"blue", strokeWidth: "1", transform:"scale(4)"});
				path.attr({
			          //strokeDasharray: "3",
			          strokeDashoffset: 10,
			          transform: "translate(0,0) scale(4)",
			          opacity: "1"
			        }).animate(
			          {transform:"translate(0,0) scale(4)"},
			          1000,
			          mina.liner,
			          function( value ){
			            path.attr({ 'strokeDashoffset': value })
			            },
			            1000,
			            mina.liner,
			            function(){
			              console.log("そうしん-----");
			            }
			          );

			paper.click(function(){
				path.attr({path: mail}).animate({transform: "translate(66.8,59.6) scale(1)",opacity: "0"}, 1000,mina.backin,
			            function(){
			              console.log("そうしんしたよ");
						if(path.inAnim().length>1){return;}
			              path.attr({path: mail}).animate({path: ok,transform: "translate(0,0) scale(4)",opacity: "1"}, 2000,mina.elastic);
			            });
				console.log("loglog");
			});
			paper.prependTo(container);
		};
			clickAction();
    </script>
  </body>
</html>